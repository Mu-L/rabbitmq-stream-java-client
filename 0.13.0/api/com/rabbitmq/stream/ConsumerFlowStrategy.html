<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.20.1) on Fri Sep 29 07:39:33 UTC 2023 -->
<title>ConsumerFlowStrategy (RabbitMQ Stream Java Client 0.13.0 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2023-09-29">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../jquery/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../jquery/jquery-ui.min.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ConsumerFlowStrategy (RabbitMQ Stream Java Client 0.13.0 API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":1,"i1":1,"i2":1,"i3":1,"i4":1,"i5":6,"i6":6};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ConsumerFlowStrategy.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">com.rabbitmq.stream</a></div>
<h2 title="Interface ConsumerFlowStrategy" class="title">Interface ConsumerFlowStrategy</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><code><a href="ConsumerFlowStrategy.CreditOnChunkArrivalConsumerFlowStrategy.html" title="class in com.rabbitmq.stream">ConsumerFlowStrategy.CreditOnChunkArrivalConsumerFlowStrategy</a></code>, <code><a href="ConsumerFlowStrategy.MessageCountConsumerFlowStrategy.html" title="class in com.rabbitmq.stream">ConsumerFlowStrategy.MessageCountConsumerFlowStrategy</a></code></dd>
</dl>
<hr>
<pre>public interface <span class="typeNameLabel">ConsumerFlowStrategy</span></pre>
<div class="block">Contract to determine when a subscription provides credits to get more messages.

 <p>The broker delivers "chunks" of messages to consumers. A chunk can contain from 1 to several
 thousands of messages. The broker send chunks as long as the subscription has <em>credits</em>. A
 client connection can provide credits for a given subscription and the broker will send the
 corresponding number of chunks (1 credit = 1 chunk).

 <p>This credit mechanism avoids overwhelming a consumer with messages. A consumer does not want
 to provide a credit only when it is done with messages of a chunk, because it will be idle
 between its credit request and the arrival of the next chunk. The idea is to keep consumers busy
 as much as possible, without accumulating an in-memory backlog on the client side. There is no
 ideal solution, it depends on the use cases and several parameters (processing time, network,
 etc).

 <p>This is an experimental API, subject to change.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.12.0</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="MessageHandler.Context.html#processed()"><code>MessageHandler.Context.processed()</code></a>, 
<a href="ConsumerBuilder.html#flow()"><code>ConsumerBuilder.flow()</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Interface</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="ConsumerFlowStrategy.Context.html" title="interface in com.rabbitmq.stream">ConsumerFlowStrategy.Context</a></span></code></th>
<td class="colLast">
<div class="block">Chunk context.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="ConsumerFlowStrategy.CreditOnChunkArrivalConsumerFlowStrategy.html" title="class in com.rabbitmq.stream">ConsumerFlowStrategy.CreditOnChunkArrivalConsumerFlowStrategy</a></span></code></th>
<td class="colLast">
<div class="block">Strategy that provides the specified number of initial credits and a credit on each new chunk.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="ConsumerFlowStrategy.MessageCountConsumerFlowStrategy.html" title="class in com.rabbitmq.stream">ConsumerFlowStrategy.MessageCountConsumerFlowStrategy</a></span></code></th>
<td class="colLast">
<div class="block">Strategy that provides the specified number of initial credits and a credit when the specified
 ratio of the chunk messages are processed.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="ConsumerFlowStrategy.MessageProcessedCallback.html" title="interface in com.rabbitmq.stream">ConsumerFlowStrategy.MessageProcessedCallback</a></span></code></th>
<td class="colLast">
<div class="block">Behavior for <a href="MessageHandler.Context.html#processed()"><code>MessageHandler.Context.processed()</code></a> calls.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static <a href="ConsumerFlowStrategy.html" title="interface in com.rabbitmq.stream">ConsumerFlowStrategy</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#creditOnChunkArrival()">creditOnChunkArrival</a></span>()</code></th>
<td class="colLast">
<div class="block">Strategy that provides 1 initial credit and a credit on each new chunk.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static <a href="ConsumerFlowStrategy.html" title="interface in com.rabbitmq.stream">ConsumerFlowStrategy</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#creditOnChunkArrival(int)">creditOnChunkArrival</a></span>&#8203;(int&nbsp;initialCredits)</code></th>
<td class="colLast">
<div class="block">Strategy that provides the specified number of initial credits and a credit on each new chunk.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static <a href="ConsumerFlowStrategy.html" title="interface in com.rabbitmq.stream">ConsumerFlowStrategy</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#creditOnProcessedMessageCount(int,double)">creditOnProcessedMessageCount</a></span>&#8203;(int&nbsp;initialCredits,
                             double&nbsp;ratio)</code></th>
<td class="colLast">
<div class="block">Strategy that provides the specified number of initial credits and a credit when the specified
 ratio of the chunk messages are processed.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static <a href="ConsumerFlowStrategy.html" title="interface in com.rabbitmq.stream">ConsumerFlowStrategy</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#creditWhenHalfMessagesProcessed()">creditWhenHalfMessagesProcessed</a></span>()</code></th>
<td class="colLast">
<div class="block">Strategy that provides 1 initial credit and a credit when half of the chunk messages are
 processed.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>static <a href="ConsumerFlowStrategy.html" title="interface in com.rabbitmq.stream">ConsumerFlowStrategy</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#creditWhenHalfMessagesProcessed(int)">creditWhenHalfMessagesProcessed</a></span>&#8203;(int&nbsp;initialCredits)</code></th>
<td class="colLast">
<div class="block">Strategy that provides the specified number of initial credits and a credit when half of the
 chunk messages are processed.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#initialCredits()">initialCredits</a></span>()</code></th>
<td class="colLast">
<div class="block">The initial number of credits for a subscription.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="ConsumerFlowStrategy.MessageProcessedCallback.html" title="interface in com.rabbitmq.stream">ConsumerFlowStrategy.MessageProcessedCallback</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#start(com.rabbitmq.stream.ConsumerFlowStrategy.Context)">start</a></span>&#8203;(<a href="ConsumerFlowStrategy.Context.html" title="interface in com.rabbitmq.stream">ConsumerFlowStrategy.Context</a>&nbsp;context)</code></th>
<td class="colLast">
<div class="block">Return the behavior for <a href="MessageHandler.Context.html#processed()"><code>MessageHandler.Context.processed()</code></a> calls.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="initialCredits()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initialCredits</h4>
<pre class="methodSignature">int&nbsp;initialCredits()</pre>
<div class="block">The initial number of credits for a subscription.

 <p>It must be greater than 0. Values are usually between 1 and 10.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>initial number of credits</dd>
</dl>
</li>
</ul>
<a id="start(com.rabbitmq.stream.ConsumerFlowStrategy.Context)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>start</h4>
<pre class="methodSignature"><a href="ConsumerFlowStrategy.MessageProcessedCallback.html" title="interface in com.rabbitmq.stream">ConsumerFlowStrategy.MessageProcessedCallback</a>&nbsp;start&#8203;(<a href="ConsumerFlowStrategy.Context.html" title="interface in com.rabbitmq.stream">ConsumerFlowStrategy.Context</a>&nbsp;context)</pre>
<div class="block">Return the behavior for <a href="MessageHandler.Context.html#processed()"><code>MessageHandler.Context.processed()</code></a> calls.

 <p>This method is called for each chunk of messages. Implementations return a callback that
 will be called when applications consider a message dealt with and call <a href="MessageHandler.Context.html#processed()"><code>MessageHandler.Context.processed()</code></a>. The callback can count messages and provide credits
 accordingly.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - chunk context</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the message processed callback</dd>
</dl>
</li>
</ul>
<a id="creditOnChunkArrival()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>creditOnChunkArrival</h4>
<pre class="methodSignature">static&nbsp;<a href="ConsumerFlowStrategy.html" title="interface in com.rabbitmq.stream">ConsumerFlowStrategy</a>&nbsp;creditOnChunkArrival()</pre>
<div class="block">Strategy that provides 1 initial credit and a credit on each new chunk.

 <p>Calls to <a href="MessageHandler.Context.html#processed()"><code>MessageHandler.Context.processed()</code></a> are ignored.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>flow strategy</dd>
</dl>
</li>
</ul>
<a id="creditOnChunkArrival(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>creditOnChunkArrival</h4>
<pre class="methodSignature">static&nbsp;<a href="ConsumerFlowStrategy.html" title="interface in com.rabbitmq.stream">ConsumerFlowStrategy</a>&nbsp;creditOnChunkArrival&#8203;(int&nbsp;initialCredits)</pre>
<div class="block">Strategy that provides the specified number of initial credits and a credit on each new chunk.

 <p>Calls to <a href="MessageHandler.Context.html#processed()"><code>MessageHandler.Context.processed()</code></a> are ignored.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>initialCredits</code> - number of initial credits</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>flow strategy</dd>
</dl>
</li>
</ul>
<a id="creditWhenHalfMessagesProcessed()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>creditWhenHalfMessagesProcessed</h4>
<pre class="methodSignature">static&nbsp;<a href="ConsumerFlowStrategy.html" title="interface in com.rabbitmq.stream">ConsumerFlowStrategy</a>&nbsp;creditWhenHalfMessagesProcessed()</pre>
<div class="block">Strategy that provides 1 initial credit and a credit when half of the chunk messages are
 processed.

 <p>Make sure to call <a href="MessageHandler.Context.html#processed()"><code>MessageHandler.Context.processed()</code></a> on every message when using
 this strategy, otherwise the broker may stop sending messages to the consumer.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>flow strategy</dd>
</dl>
</li>
</ul>
<a id="creditWhenHalfMessagesProcessed(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>creditWhenHalfMessagesProcessed</h4>
<pre class="methodSignature">static&nbsp;<a href="ConsumerFlowStrategy.html" title="interface in com.rabbitmq.stream">ConsumerFlowStrategy</a>&nbsp;creditWhenHalfMessagesProcessed&#8203;(int&nbsp;initialCredits)</pre>
<div class="block">Strategy that provides the specified number of initial credits and a credit when half of the
 chunk messages are processed.

 <p>Make sure to call <a href="MessageHandler.Context.html#processed()"><code>MessageHandler.Context.processed()</code></a> on every message when using
 this strategy, otherwise the broker may stop sending messages to the consumer.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>initialCredits</code> - number of initial credits</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>flow strategy</dd>
</dl>
</li>
</ul>
<a id="creditOnProcessedMessageCount(int,double)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>creditOnProcessedMessageCount</h4>
<pre class="methodSignature">static&nbsp;<a href="ConsumerFlowStrategy.html" title="interface in com.rabbitmq.stream">ConsumerFlowStrategy</a>&nbsp;creditOnProcessedMessageCount&#8203;(int&nbsp;initialCredits,
                                                          double&nbsp;ratio)</pre>
<div class="block">Strategy that provides the specified number of initial credits and a credit when the specified
 ratio of the chunk messages are processed.

 <p>Make sure to call <a href="MessageHandler.Context.html#processed()"><code>MessageHandler.Context.processed()</code></a> on every message when using
 this strategy, otherwise the broker may stop sending messages to the consumer.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>initialCredits</code> - number of initial credits</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>flow strategy</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ConsumerFlowStrategy.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2023 <a href="https://www.rabbitmq.com">VMware, Inc. or its affiliates.</a>. All rights reserved.</small></p>
</footer>
</body>
</html>
